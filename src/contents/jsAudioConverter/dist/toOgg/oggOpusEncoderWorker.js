/*! For license information please see oggOpusEncoderWorker.js.LICENSE.txt */
var Module=void 0!==Module?Module:{};!function(e,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define([],n):"object"==typeof exports?exports.EncoderWorker=n():e.EncoderWorker=n()}("undefined"!=typeof self?self:this,(function(){return function(e){var n={};function t(r){if(n[r])return n[r].exports;var a=n[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,t),a.l=!0,a.exports}return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:r})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(t.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var a in e)t.d(r,a,function(n){return e[n]}.bind(null,a));return r},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p="",t(t.s="./src/encoderWorker.js")}({"./node_modules/webpack/buildin/global.js":function(module,exports){eval('var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function("return this")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === "object") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it\'s\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvd2VicGFjay9idWlsZGluL2dsb2JhbC5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovL0VuY29kZXJXb3JrZXIvKHdlYnBhY2spL2J1aWxkaW4vZ2xvYmFsLmpzP2NkMDAiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIGc7XG5cbi8vIFRoaXMgd29ya3MgaW4gbm9uLXN0cmljdCBtb2RlXG5nID0gKGZ1bmN0aW9uKCkge1xuXHRyZXR1cm4gdGhpcztcbn0pKCk7XG5cbnRyeSB7XG5cdC8vIFRoaXMgd29ya3MgaWYgZXZhbCBpcyBhbGxvd2VkIChzZWUgQ1NQKVxuXHRnID0gZyB8fCBuZXcgRnVuY3Rpb24oXCJyZXR1cm4gdGhpc1wiKSgpO1xufSBjYXRjaCAoZSkge1xuXHQvLyBUaGlzIHdvcmtzIGlmIHRoZSB3aW5kb3cgcmVmZXJlbmNlIGlzIGF2YWlsYWJsZVxuXHRpZiAodHlwZW9mIHdpbmRvdyA9PT0gXCJvYmplY3RcIikgZyA9IHdpbmRvdztcbn1cblxuLy8gZyBjYW4gc3RpbGwgYmUgdW5kZWZpbmVkLCBidXQgbm90aGluZyB0byBkbyBhYm91dCBpdC4uLlxuLy8gV2UgcmV0dXJuIHVuZGVmaW5lZCwgaW5zdGVhZCBvZiBub3RoaW5nIGhlcmUsIHNvIGl0J3Ncbi8vIGVhc2llciB0byBoYW5kbGUgdGhpcyBjYXNlLiBpZighZ2xvYmFsKSB7IC4uLn1cblxubW9kdWxlLmV4cG9ydHMgPSBnO1xuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/webpack/buildin/global.js\n')},"./src/encoderWorker.js":function(module,exports,__webpack_require__){"use strict";eval("/* WEBPACK VAR INJECTION */(function(global) {\n\nvar encoder;\nvar mainReadyResolve;\nvar mainReady = new Promise(function(resolve){ mainReadyResolve = resolve; });\n\nglobal['onmessage'] = function( e ){\n  mainReady.then(function(){\n    switch( e['data']['command'] ){\n\n      case 'encode':\n        if (encoder){\n          encoder.encode( e['data']['buffers'] );\n        }\n        break;\n\n      case 'getHeaderPages':\n        if (encoder){\n          encoder.generateIdPage();\n          encoder.generateCommentPage();\n        }\n        break;\n\n      case 'done':\n        if (encoder) {\n          encoder.encodeFinalFrame();\n          global['postMessage']( {message: 'done'} );\n        }\n        break;\n\n      case 'close':\n        global['close']();\n        break;\n\n      case 'flush':\n        if (encoder) {\n          encoder.flush();\n        }\n        break;\n\n      case 'init':\n        if ( encoder ) {\n          encoder.destroy();\n        }\n        encoder = new OggOpusEncoder( e['data'], Module );\n        global['postMessage']( {message: 'ready'} );\n        break;\n\n      default:\n        // Ignore any unknown commands and continue recieving commands\n    }\n  });\n};\n\n\nvar OggOpusEncoder = function( config, Module ){\n\n  if ( !Module ) {\n    throw new Error('Module with exports required to initialize an encoder instance');\n  }\n\n  this.config = Object.assign({ \n    bufferLength: 4096, // Define size of incoming buffer\n    encoderApplication: 2049, // 2048 = Voice (Lower fidelity)\n                              // 2049 = Full Band Audio (Highest fidelity)\n                              // 2051 = Restricted Low Delay (Lowest latency)\n    encoderFrameSize: 20, // Specified in ms.\n    encoderSampleRate: 48000, // Desired encoding sample rate. Audio will be resampled\n    maxFramesPerPage: 40, // Tradeoff latency with overhead\n    numberOfChannels: 1,\n    originalSampleRate: 44100,\n    resampleQuality: 3, // Value between 0 and 10 inclusive. 10 being highest quality.\n    serial: Math.floor(Math.random() * 4294967296)\n  }, config );\n\n  this._opus_encoder_create = Module._opus_encoder_create;\n  this._opus_encoder_destroy = Module._opus_encoder_destroy;\n  this._opus_encoder_ctl = Module._opus_encoder_ctl;\n  this._speex_resampler_process_interleaved_float = Module._speex_resampler_process_interleaved_float;\n  this._speex_resampler_init = Module._speex_resampler_init;\n  this._speex_resampler_destroy = Module._speex_resampler_destroy;\n  this._opus_encode_float = Module._opus_encode_float;\n  this._free = Module._free;\n  this._malloc = Module._malloc;\n  this.HEAPU8 = Module.HEAPU8;\n  this.HEAP32 = Module.HEAP32;\n  this.HEAPF32 = Module.HEAPF32;\n\n  this.pageIndex = 0;\n  this.granulePosition = 0;\n  this.segmentData = new Uint8Array( 65025 ); // Maximum length of oggOpus data\n  this.segmentDataIndex = 0;\n  this.segmentTable = new Uint8Array( 255 ); // Maximum data segments\n  this.segmentTableIndex = 0;\n  this.framesInPage = 0;\n\n  this.initChecksumTable();\n  this.initCodec();\n  this.initResampler();\n\n  if ( this.config.numberOfChannels === 1 ) {\n    this.interleave = function( buffers ) { return buffers[0]; };\n  }\n  else {\n    this.interleavedBuffers = new Float32Array( this.config.bufferLength * this.config.numberOfChannels );\n  }\n\n};\n\nOggOpusEncoder.prototype.encode = function( buffers ) {\n  var samples = this.interleave( buffers );\n  var sampleIndex = 0;\n\n  while ( sampleIndex < samples.length ) {\n\n    var lengthToCopy = Math.min( this.resampleBufferLength - this.resampleBufferIndex, samples.length - sampleIndex );\n    this.resampleBuffer.set( samples.subarray( sampleIndex, sampleIndex+lengthToCopy ), this.resampleBufferIndex );\n    sampleIndex += lengthToCopy;\n    this.resampleBufferIndex += lengthToCopy;\n\n    if ( this.resampleBufferIndex === this.resampleBufferLength ) {\n      this._speex_resampler_process_interleaved_float( this.resampler, this.resampleBufferPointer, this.resampleSamplesPerChannelPointer, this.encoderBufferPointer, this.encoderSamplesPerChannelPointer );\n      var packetLength = this._opus_encode_float( this.encoder, this.encoderBufferPointer, this.encoderSamplesPerChannel, this.encoderOutputPointer, this.encoderOutputMaxLength );\n      this.segmentPacket( packetLength );\n      this.resampleBufferIndex = 0;\n\n      this.framesInPage++;\n      if ( this.framesInPage >= this.config.maxFramesPerPage ) {\n        this.generatePage();\n      }\n    }\n  }\n};\n\nOggOpusEncoder.prototype.destroy = function() {\n  if ( this.encoder ) {\n    this._free(this.encoderSamplesPerChannelPointer);\n    delete this.encoderSamplesPerChannelPointer;\n    this._free(this.encoderBufferPointer);\n    delete this.encoderBufferPointer;\n    this._free(this.encoderOutputPointer);\n    delete this.encoderOutputPointer;\n    this._free(this.resampleSamplesPerChannelPointer);\n    delete this.resampleSamplesPerChannelPointer;\n    this._free(this.resampleBufferPointer);\n    delete this.resampleBufferPointer;\n    this._speex_resampler_destroy(this.resampler);\n    delete this.resampler;\n    this._opus_encoder_destroy(this.encoder);\n    delete this.encoder;\n  }\n};\n\nOggOpusEncoder.prototype.flush = function() {\n  if ( this.framesInPage ) {\n    this.generatePage();\n  }\n  // discard any pending data in resample buffer (only a few ms worth)\n  this.resampleBufferIndex = 0;\n  global['postMessage']( {message: 'flushed'} );\n};\n\nOggOpusEncoder.prototype.encodeFinalFrame = function() {\n  if ( this.resampleBufferIndex > 0 ) {\n    var finalFrameBuffers = [];\n    for ( var i = 0; i < this.config.numberOfChannels; ++i ) {\n      finalFrameBuffers.push( new Float32Array( this.config.bufferLength - (this.resampleBufferIndex / this.config.numberOfChannels) ));\n    }\n    this.encode( finalFrameBuffers );\n  }\n  this.headerType += 4;\n  this.generatePage();\n};\n\nOggOpusEncoder.prototype.getChecksum = function( data ){\n  var checksum = 0;\n  for ( var i = 0; i < data.length; i++ ) {\n    checksum = (checksum << 8) ^ this.checksumTable[ ((checksum>>>24) & 0xff) ^ data[i] ];\n  }\n  return checksum >>> 0;\n};\n\nOggOpusEncoder.prototype.generateCommentPage = function(){\n  var segmentDataView = new DataView( this.segmentData.buffer );\n  segmentDataView.setUint32( 0, 1937076303, true ) // Magic Signature 'Opus'\n  segmentDataView.setUint32( 4, 1936154964, true ) // Magic Signature 'Tags'\n  segmentDataView.setUint32( 8, 10, true ); // Vendor Length\n  segmentDataView.setUint32( 12, 1868784978, true ); // Vendor name 'Reco'\n  segmentDataView.setUint32( 16, 1919247474, true ); // Vendor name 'rder'\n  segmentDataView.setUint16( 20, 21322, true ); // Vendor name 'JS'\n  segmentDataView.setUint32( 22, 0, true ); // User Comment List Length\n  this.segmentTableIndex = 1;\n  this.segmentDataIndex = this.segmentTable[0] = 26;\n  this.headerType = 0;\n  this.generatePage();\n};\n\nOggOpusEncoder.prototype.generateIdPage = function(){\n  var segmentDataView = new DataView( this.segmentData.buffer );\n  segmentDataView.setUint32( 0, 1937076303, true ) // Magic Signature 'Opus'\n  segmentDataView.setUint32( 4, 1684104520, true ) // Magic Signature 'Head'\n  segmentDataView.setUint8( 8, 1, true ); // Version\n  segmentDataView.setUint8( 9, this.config.numberOfChannels, true ); // Channel count\n  segmentDataView.setUint16( 10, 3840, true ); // pre-skip (80ms)\n  segmentDataView.setUint32( 12, this.config.originalSampleRateOverride || this.config.originalSampleRate, true ); // original sample rate\n  segmentDataView.setUint16( 16, 0, true ); // output gain\n  segmentDataView.setUint8( 18, 0, true ); // channel map 0 = mono or stereo\n  this.segmentTableIndex = 1;\n  this.segmentDataIndex = this.segmentTable[0] = 19;\n  this.headerType = 2;\n  this.generatePage();\n};\n\nOggOpusEncoder.prototype.generatePage = function(){\n  var granulePosition = ( this.lastPositiveGranulePosition === this.granulePosition) ? -1 : this.granulePosition;\n  var pageBuffer = new ArrayBuffer(  27 + this.segmentTableIndex + this.segmentDataIndex );\n  var pageBufferView = new DataView( pageBuffer );\n  var page = new Uint8Array( pageBuffer );\n\n  pageBufferView.setUint32( 0, 1399285583, true); // Capture Pattern starts all page headers 'OggS'\n  pageBufferView.setUint8( 4, 0, true ); // Version\n  pageBufferView.setUint8( 5, this.headerType, true ); // 1 = continuation, 2 = beginning of stream, 4 = end of stream\n\n  // Number of samples upto and including this page at 48000Hz, into signed 64 bit Little Endian integer\n  // Javascript Number maximum value is 53 bits or 2^53 - 1 \n  pageBufferView.setUint32( 6, granulePosition, true );\n  if (granulePosition < 0) {\n    pageBufferView.setInt32( 10, Math.ceil(granulePosition/4294967297) - 1, true );\n  }\n  else {\n    pageBufferView.setInt32( 10, Math.floor(granulePosition/4294967296), true );\n  }\n\n  pageBufferView.setUint32( 14, this.config.serial, true ); // Bitstream serial number\n  pageBufferView.setUint32( 18, this.pageIndex++, true ); // Page sequence number\n  pageBufferView.setUint8( 26, this.segmentTableIndex, true ); // Number of segments in page.\n  page.set( this.segmentTable.subarray(0, this.segmentTableIndex), 27 ); // Segment Table\n  page.set( this.segmentData.subarray(0, this.segmentDataIndex), 27 + this.segmentTableIndex ); // Segment Data\n  pageBufferView.setUint32( 22, this.getChecksum( page ), true ); // Checksum\n\n  global['postMessage']( {message: 'page', page: page, samplePosition: this.granulePosition}, [page.buffer] );\n  this.segmentTableIndex = 0;\n  this.segmentDataIndex = 0;\n  this.framesInPage = 0;\n  if ( granulePosition > 0 ) {\n    this.lastPositiveGranulePosition = granulePosition;\n  }\n};\n\nOggOpusEncoder.prototype.initChecksumTable = function(){\n  this.checksumTable = [];\n  for ( var i = 0; i < 256; i++ ) {\n    var r = i << 24;\n    for ( var j = 0; j < 8; j++ ) {\n      r = ((r & 0x80000000) != 0) ? ((r << 1) ^ 0x04c11db7) : (r << 1);\n    }\n    this.checksumTable[i] = (r & 0xffffffff);\n  }\n};\n\nOggOpusEncoder.prototype.setOpusControl = function( control, value ){\n  var location = this._malloc( 4 );\n  this.HEAP32[ location >> 2 ] = value;\n  this._opus_encoder_ctl( this.encoder, control, location );\n  this._free( location );\n};\n\nOggOpusEncoder.prototype.initCodec = function() {\n  var errLocation = this._malloc( 4 );\n  this.encoder = this._opus_encoder_create( this.config.encoderSampleRate, this.config.numberOfChannels, this.config.encoderApplication, errLocation );\n  this._free( errLocation );\n\n  if ( this.config.encoderBitRate ) {\n    this.setOpusControl( 4002, this.config.encoderBitRate );\n  }\n\n  if ( this.config.encoderComplexity ) {\n    this.setOpusControl( 4010, this.config.encoderComplexity );\n  }\n\n  this.encoderSamplesPerChannel = this.config.encoderSampleRate * this.config.encoderFrameSize / 1000;\n  this.encoderSamplesPerChannelPointer = this._malloc( 4 );\n  this.HEAP32[ this.encoderSamplesPerChannelPointer >> 2 ] = this.encoderSamplesPerChannel;\n\n  this.encoderBufferLength = this.encoderSamplesPerChannel * this.config.numberOfChannels;\n  this.encoderBufferPointer = this._malloc( this.encoderBufferLength * 4 ); // 4 bytes per sample\n  this.encoderBuffer = this.HEAPF32.subarray( this.encoderBufferPointer >> 2, (this.encoderBufferPointer >> 2) + this.encoderBufferLength );\n\n  this.encoderOutputMaxLength = 4000;\n  this.encoderOutputPointer = this._malloc( this.encoderOutputMaxLength );\n  this.encoderOutputBuffer = this.HEAPU8.subarray( this.encoderOutputPointer, this.encoderOutputPointer + this.encoderOutputMaxLength );\n};\n\nOggOpusEncoder.prototype.initResampler = function() {\n  var errLocation = this._malloc( 4 );\n  this.resampler = this._speex_resampler_init( this.config.numberOfChannels, this.config.originalSampleRate, this.config.encoderSampleRate, this.config.resampleQuality, errLocation );\n  this._free( errLocation );\n\n  this.resampleBufferIndex = 0;\n  this.resampleSamplesPerChannel = this.config.originalSampleRate * this.config.encoderFrameSize / 1000;\n  this.resampleSamplesPerChannelPointer = this._malloc( 4 );\n  this.HEAP32[ this.resampleSamplesPerChannelPointer >> 2 ] = this.resampleSamplesPerChannel;\n\n  this.resampleBufferLength = this.resampleSamplesPerChannel * this.config.numberOfChannels;\n  this.resampleBufferPointer = this._malloc( this.resampleBufferLength * 4 ); // 4 bytes per sample\n  this.resampleBuffer = this.HEAPF32.subarray( this.resampleBufferPointer >> 2, (this.resampleBufferPointer >> 2) + this.resampleBufferLength );\n};\n\nOggOpusEncoder.prototype.interleave = function( buffers ) {\n  for ( var i = 0; i < this.config.bufferLength; i++ ) {\n    for ( var channel = 0; channel < this.config.numberOfChannels; channel++ ) {\n      this.interleavedBuffers[ i * this.config.numberOfChannels + channel ] = buffers[ channel ][ i ];\n    }\n  }\n\n  return this.interleavedBuffers;\n};\n\nOggOpusEncoder.prototype.segmentPacket = function( packetLength ) {\n  var packetIndex = 0;\n\n  while ( packetLength >= 0 ) {\n\n    if ( this.segmentTableIndex === 255 ) {\n      this.generatePage();\n      this.headerType = 1;\n    }\n\n    var segmentLength = Math.min( packetLength, 255 );\n    this.segmentTable[ this.segmentTableIndex++ ] = segmentLength;\n    this.segmentData.set( this.encoderOutputBuffer.subarray( packetIndex, packetIndex + segmentLength ), this.segmentDataIndex );\n    this.segmentDataIndex += segmentLength;\n    packetIndex += segmentLength;\n    packetLength -= 255;\n  }\n\n  this.granulePosition += ( 48 * this.config.encoderFrameSize );\n  if ( this.segmentTableIndex === 255 ) {\n    this.generatePage();\n    this.headerType = 0;\n  }\n};\n\n\nif (!Module) {\n  Module = {};\n}\n\nModule['mainReady'] = mainReady;\nModule['OggOpusEncoder'] = OggOpusEncoder;\nModule['onRuntimeInitialized'] = mainReadyResolve;\n\nmodule.exports = Module;\n\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../node_modules/webpack/buildin/global.js */ \"./node_modules/webpack/buildin/global.js\")))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvZW5jb2Rlcldvcmtlci5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovL0VuY29kZXJXb3JrZXIvLi9zcmMvZW5jb2Rlcldvcmtlci5qcz84YjNjIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG52YXIgZW5jb2RlcjtcbnZhciBtYWluUmVhZHlSZXNvbHZlO1xudmFyIG1haW5SZWFkeSA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUpeyBtYWluUmVhZHlSZXNvbHZlID0gcmVzb2x2ZTsgfSk7XG5cbmdsb2JhbFsnb25tZXNzYWdlJ10gPSBmdW5jdGlvbiggZSApe1xuICBtYWluUmVhZHkudGhlbihmdW5jdGlvbigpe1xuICAgIHN3aXRjaCggZVsnZGF0YSddWydjb21tYW5kJ10gKXtcblxuICAgICAgY2FzZSAnZW5jb2RlJzpcbiAgICAgICAgaWYgKGVuY29kZXIpe1xuICAgICAgICAgIGVuY29kZXIuZW5jb2RlKCBlWydkYXRhJ11bJ2J1ZmZlcnMnXSApO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlICdnZXRIZWFkZXJQYWdlcyc6XG4gICAgICAgIGlmIChlbmNvZGVyKXtcbiAgICAgICAgICBlbmNvZGVyLmdlbmVyYXRlSWRQYWdlKCk7XG4gICAgICAgICAgZW5jb2Rlci5nZW5lcmF0ZUNvbW1lbnRQYWdlKCk7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgJ2RvbmUnOlxuICAgICAgICBpZiAoZW5jb2Rlcikge1xuICAgICAgICAgIGVuY29kZXIuZW5jb2RlRmluYWxGcmFtZSgpO1xuICAgICAgICAgIGdsb2JhbFsncG9zdE1lc3NhZ2UnXSgge21lc3NhZ2U6ICdkb25lJ30gKTtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSAnY2xvc2UnOlxuICAgICAgICBnbG9iYWxbJ2Nsb3NlJ10oKTtcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgJ2ZsdXNoJzpcbiAgICAgICAgaWYgKGVuY29kZXIpIHtcbiAgICAgICAgICBlbmNvZGVyLmZsdXNoKCk7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgJ2luaXQnOlxuICAgICAgICBpZiAoIGVuY29kZXIgKSB7XG4gICAgICAgICAgZW5jb2Rlci5kZXN0cm95KCk7XG4gICAgICAgIH1cbiAgICAgICAgZW5jb2RlciA9IG5ldyBPZ2dPcHVzRW5jb2RlciggZVsnZGF0YSddLCBNb2R1bGUgKTtcbiAgICAgICAgZ2xvYmFsWydwb3N0TWVzc2FnZSddKCB7bWVzc2FnZTogJ3JlYWR5J30gKTtcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIC8vIElnbm9yZSBhbnkgdW5rbm93biBjb21tYW5kcyBhbmQgY29udGludWUgcmVjaWV2aW5nIGNvbW1hbmRzXG4gICAgfVxuICB9KTtcbn07XG5cblxudmFyIE9nZ09wdXNFbmNvZGVyID0gZnVuY3Rpb24oIGNvbmZpZywgTW9kdWxlICl7XG5cbiAgaWYgKCAhTW9kdWxlICkge1xuICAgIHRocm93IG5ldyBFcnJvcignTW9kdWxlIHdpdGggZXhwb3J0cyByZXF1aXJlZCB0byBpbml0aWFsaXplIGFuIGVuY29kZXIgaW5zdGFuY2UnKTtcbiAgfVxuXG4gIHRoaXMuY29uZmlnID0gT2JqZWN0LmFzc2lnbih7IFxuICAgIGJ1ZmZlckxlbmd0aDogNDA5NiwgLy8gRGVmaW5lIHNpemUgb2YgaW5jb21pbmcgYnVmZmVyXG4gICAgZW5jb2RlckFwcGxpY2F0aW9uOiAyMDQ5LCAvLyAyMDQ4ID0gVm9pY2UgKExvd2VyIGZpZGVsaXR5KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gMjA0OSA9IEZ1bGwgQmFuZCBBdWRpbyAoSGlnaGVzdCBmaWRlbGl0eSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIDIwNTEgPSBSZXN0cmljdGVkIExvdyBEZWxheSAoTG93ZXN0IGxhdGVuY3kpXG4gICAgZW5jb2RlckZyYW1lU2l6ZTogMjAsIC8vIFNwZWNpZmllZCBpbiBtcy5cbiAgICBlbmNvZGVyU2FtcGxlUmF0ZTogNDgwMDAsIC8vIERlc2lyZWQgZW5jb2Rpbmcgc2FtcGxlIHJhdGUuIEF1ZGlvIHdpbGwgYmUgcmVzYW1wbGVkXG4gICAgbWF4RnJhbWVzUGVyUGFnZTogNDAsIC8vIFRyYWRlb2ZmIGxhdGVuY3kgd2l0aCBvdmVyaGVhZFxuICAgIG51bWJlck9mQ2hhbm5lbHM6IDEsXG4gICAgb3JpZ2luYWxTYW1wbGVSYXRlOiA0NDEwMCxcbiAgICByZXNhbXBsZVF1YWxpdHk6IDMsIC8vIFZhbHVlIGJldHdlZW4gMCBhbmQgMTAgaW5jbHVzaXZlLiAxMCBiZWluZyBoaWdoZXN0IHF1YWxpdHkuXG4gICAgc2VyaWFsOiBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiA0Mjk0OTY3Mjk2KVxuICB9LCBjb25maWcgKTtcblxuICB0aGlzLl9vcHVzX2VuY29kZXJfY3JlYXRlID0gTW9kdWxlLl9vcHVzX2VuY29kZXJfY3JlYXRlO1xuICB0aGlzLl9vcHVzX2VuY29kZXJfZGVzdHJveSA9IE1vZHVsZS5fb3B1c19lbmNvZGVyX2Rlc3Ryb3k7XG4gIHRoaXMuX29wdXNfZW5jb2Rlcl9jdGwgPSBNb2R1bGUuX29wdXNfZW5jb2Rlcl9jdGw7XG4gIHRoaXMuX3NwZWV4X3Jlc2FtcGxlcl9wcm9jZXNzX2ludGVybGVhdmVkX2Zsb2F0ID0gTW9kdWxlLl9zcGVleF9yZXNhbXBsZXJfcHJvY2Vzc19pbnRlcmxlYXZlZF9mbG9hdDtcbiAgdGhpcy5fc3BlZXhfcmVzYW1wbGVyX2luaXQgPSBNb2R1bGUuX3NwZWV4X3Jlc2FtcGxlcl9pbml0O1xuICB0aGlzLl9zcGVleF9yZXNhbXBsZXJfZGVzdHJveSA9IE1vZHVsZS5fc3BlZXhfcmVzYW1wbGVyX2Rlc3Ryb3k7XG4gIHRoaXMuX29wdXNfZW5jb2RlX2Zsb2F0ID0gTW9kdWxlLl9vcHVzX2VuY29kZV9mbG9hdDtcbiAgdGhpcy5fZnJlZSA9IE1vZHVsZS5fZnJlZTtcbiAgdGhpcy5fbWFsbG9jID0gTW9kdWxlLl9tYWxsb2M7XG4gIHRoaXMuSEVBUFU4ID0gTW9kdWxlLkhFQVBVODtcbiAgdGhpcy5IRUFQMzIgPSBNb2R1bGUuSEVBUDMyO1xuICB0aGlzLkhFQVBGMzIgPSBNb2R1bGUuSEVBUEYzMjtcblxuICB0aGlzLnBhZ2VJbmRleCA9IDA7XG4gIHRoaXMuZ3JhbnVsZVBvc2l0aW9uID0gMDtcbiAgdGhpcy5zZWdtZW50RGF0YSA9IG5ldyBVaW50OEFycmF5KCA2NTAyNSApOyAvLyBNYXhpbXVtIGxlbmd0aCBvZiBvZ2dPcHVzIGRhdGFcbiAgdGhpcy5zZWdtZW50RGF0YUluZGV4ID0gMDtcbiAgdGhpcy5zZWdtZW50VGFibGUgPSBuZXcgVWludDhBcnJheSggMjU1ICk7IC8vIE1heGltdW0gZGF0YSBzZWdtZW50c1xuICB0aGlzLnNlZ21lbnRUYWJsZUluZGV4ID0gMDtcbiAgdGhpcy5mcmFtZXNJblBhZ2UgPSAwO1xuXG4gIHRoaXMuaW5pdENoZWNrc3VtVGFibGUoKTtcbiAgdGhpcy5pbml0Q29kZWMoKTtcbiAgdGhpcy5pbml0UmVzYW1wbGVyKCk7XG5cbiAgaWYgKCB0aGlzLmNvbmZpZy5udW1iZXJPZkNoYW5uZWxzID09PSAxICkge1xuICAgIHRoaXMuaW50ZXJsZWF2ZSA9IGZ1bmN0aW9uKCBidWZmZXJzICkgeyByZXR1cm4gYnVmZmVyc1swXTsgfTtcbiAgfVxuICBlbHNlIHtcbiAgICB0aGlzLmludGVybGVhdmVkQnVmZmVycyA9IG5ldyBGbG9hdDMyQXJyYXkoIHRoaXMuY29uZmlnLmJ1ZmZlckxlbmd0aCAqIHRoaXMuY29uZmlnLm51bWJlck9mQ2hhbm5lbHMgKTtcbiAgfVxuXG59O1xuXG5PZ2dPcHVzRW5jb2Rlci5wcm90b3R5cGUuZW5jb2RlID0gZnVuY3Rpb24oIGJ1ZmZlcnMgKSB7XG4gIHZhciBzYW1wbGVzID0gdGhpcy5pbnRlcmxlYXZlKCBidWZmZXJzICk7XG4gIHZhciBzYW1wbGVJbmRleCA9IDA7XG5cbiAgd2hpbGUgKCBzYW1wbGVJbmRleCA8IHNhbXBsZXMubGVuZ3RoICkge1xuXG4gICAgdmFyIGxlbmd0aFRvQ29weSA9IE1hdGgubWluKCB0aGlzLnJlc2FtcGxlQnVmZmVyTGVuZ3RoIC0gdGhpcy5yZXNhbXBsZUJ1ZmZlckluZGV4LCBzYW1wbGVzLmxlbmd0aCAtIHNhbXBsZUluZGV4ICk7XG4gICAgdGhpcy5yZXNhbXBsZUJ1ZmZlci5zZXQoIHNhbXBsZXMuc3ViYXJyYXkoIHNhbXBsZUluZGV4LCBzYW1wbGVJbmRleCtsZW5ndGhUb0NvcHkgKSwgdGhpcy5yZXNhbXBsZUJ1ZmZlckluZGV4ICk7XG4gICAgc2FtcGxlSW5kZXggKz0gbGVuZ3RoVG9Db3B5O1xuICAgIHRoaXMucmVzYW1wbGVCdWZmZXJJbmRleCArPSBsZW5ndGhUb0NvcHk7XG5cbiAgICBpZiAoIHRoaXMucmVzYW1wbGVCdWZmZXJJbmRleCA9PT0gdGhpcy5yZXNhbXBsZUJ1ZmZlckxlbmd0aCApIHtcbiAgICAgIHRoaXMuX3NwZWV4X3Jlc2FtcGxlcl9wcm9jZXNzX2ludGVybGVhdmVkX2Zsb2F0KCB0aGlzLnJlc2FtcGxlciwgdGhpcy5yZXNhbXBsZUJ1ZmZlclBvaW50ZXIsIHRoaXMucmVzYW1wbGVTYW1wbGVzUGVyQ2hhbm5lbFBvaW50ZXIsIHRoaXMuZW5jb2RlckJ1ZmZlclBvaW50ZXIsIHRoaXMuZW5jb2RlclNhbXBsZXNQZXJDaGFubmVsUG9pbnRlciApO1xuICAgICAgdmFyIHBhY2tldExlbmd0aCA9IHRoaXMuX29wdXNfZW5jb2RlX2Zsb2F0KCB0aGlzLmVuY29kZXIsIHRoaXMuZW5jb2RlckJ1ZmZlclBvaW50ZXIsIHRoaXMuZW5jb2RlclNhbXBsZXNQZXJDaGFubmVsLCB0aGlzLmVuY29kZXJPdXRwdXRQb2ludGVyLCB0aGlzLmVuY29kZXJPdXRwdXRNYXhMZW5ndGggKTtcbiAgICAgIHRoaXMuc2VnbWVudFBhY2tldCggcGFja2V0TGVuZ3RoICk7XG4gICAgICB0aGlzLnJlc2FtcGxlQnVmZmVySW5kZXggPSAwO1xuXG4gICAgICB0aGlzLmZyYW1lc0luUGFnZSsrO1xuICAgICAgaWYgKCB0aGlzLmZyYW1lc0luUGFnZSA+PSB0aGlzLmNvbmZpZy5tYXhGcmFtZXNQZXJQYWdlICkge1xuICAgICAgICB0aGlzLmdlbmVyYXRlUGFnZSgpO1xuICAgICAgfVxuICAgIH1cbiAgfVxufTtcblxuT2dnT3B1c0VuY29kZXIucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbigpIHtcbiAgaWYgKCB0aGlzLmVuY29kZXIgKSB7XG4gICAgdGhpcy5fZnJlZSh0aGlzLmVuY29kZXJTYW1wbGVzUGVyQ2hhbm5lbFBvaW50ZXIpO1xuICAgIGRlbGV0ZSB0aGlzLmVuY29kZXJTYW1wbGVzUGVyQ2hhbm5lbFBvaW50ZXI7XG4gICAgdGhpcy5fZnJlZSh0aGlzLmVuY29kZXJCdWZmZXJQb2ludGVyKTtcbiAgICBkZWxldGUgdGhpcy5lbmNvZGVyQnVmZmVyUG9pbnRlcjtcbiAgICB0aGlzLl9mcmVlKHRoaXMuZW5jb2Rlck91dHB1dFBvaW50ZXIpO1xuICAgIGRlbGV0ZSB0aGlzLmVuY29kZXJPdXRwdXRQb2ludGVyO1xuICAgIHRoaXMuX2ZyZWUodGhpcy5yZXNhbXBsZVNhbXBsZXNQZXJDaGFubmVsUG9pbnRlcik7XG4gICAgZGVsZXRlIHRoaXMucmVzYW1wbGVTYW1wbGVzUGVyQ2hhbm5lbFBvaW50ZXI7XG4gICAgdGhpcy5fZnJlZSh0aGlzLnJlc2FtcGxlQnVmZmVyUG9pbnRlcik7XG4gICAgZGVsZXRlIHRoaXMucmVzYW1wbGVCdWZmZXJQb2ludGVyO1xuICAgIHRoaXMuX3NwZWV4X3Jlc2FtcGxlcl9kZXN0cm95KHRoaXMucmVzYW1wbGVyKTtcbiAgICBkZWxldGUgdGhpcy5yZXNhbXBsZXI7XG4gICAgdGhpcy5fb3B1c19lbmNvZGVyX2Rlc3Ryb3kodGhpcy5lbmNvZGVyKTtcbiAgICBkZWxldGUgdGhpcy5lbmNvZGVyO1xuICB9XG59O1xuXG5PZ2dPcHVzRW5jb2Rlci5wcm90b3R5cGUuZmx1c2ggPSBmdW5jdGlvbigpIHtcbiAgaWYgKCB0aGlzLmZyYW1lc0luUGFnZSApIHtcbiAgICB0aGlzLmdlbmVyYXRlUGFnZSgpO1xuICB9XG4gIC8vIGRpc2NhcmQgYW55IHBlbmRpbmcgZGF0YSBpbiByZXNhbXBsZSBidWZmZXIgKG9ubHkgYSBmZXcgbXMgd29ydGgpXG4gIHRoaXMucmVzYW1wbGVCdWZmZXJJbmRleCA9IDA7XG4gIGdsb2JhbFsncG9zdE1lc3NhZ2UnXSgge21lc3NhZ2U6ICdmbHVzaGVkJ30gKTtcbn07XG5cbk9nZ09wdXNFbmNvZGVyLnByb3RvdHlwZS5lbmNvZGVGaW5hbEZyYW1lID0gZnVuY3Rpb24oKSB7XG4gIGlmICggdGhpcy5yZXNhbXBsZUJ1ZmZlckluZGV4ID4gMCApIHtcbiAgICB2YXIgZmluYWxGcmFtZUJ1ZmZlcnMgPSBbXTtcbiAgICBmb3IgKCB2YXIgaSA9IDA7IGkgPCB0aGlzLmNvbmZpZy5udW1iZXJPZkNoYW5uZWxzOyArK2kgKSB7XG4gICAgICBmaW5hbEZyYW1lQnVmZmVycy5wdXNoKCBuZXcgRmxvYXQzMkFycmF5KCB0aGlzLmNvbmZpZy5idWZmZXJMZW5ndGggLSAodGhpcy5yZXNhbXBsZUJ1ZmZlckluZGV4IC8gdGhpcy5jb25maWcubnVtYmVyT2ZDaGFubmVscykgKSk7XG4gICAgfVxuICAgIHRoaXMuZW5jb2RlKCBmaW5hbEZyYW1lQnVmZmVycyApO1xuICB9XG4gIHRoaXMuaGVhZGVyVHlwZSArPSA0O1xuICB0aGlzLmdlbmVyYXRlUGFnZSgpO1xufTtcblxuT2dnT3B1c0VuY29kZXIucHJvdG90eXBlLmdldENoZWNrc3VtID0gZnVuY3Rpb24oIGRhdGEgKXtcbiAgdmFyIGNoZWNrc3VtID0gMDtcbiAgZm9yICggdmFyIGkgPSAwOyBpIDwgZGF0YS5sZW5ndGg7IGkrKyApIHtcbiAgICBjaGVja3N1bSA9IChjaGVja3N1bSA8PCA4KSBeIHRoaXMuY2hlY2tzdW1UYWJsZVsgKChjaGVja3N1bT4+PjI0KSAmIDB4ZmYpIF4gZGF0YVtpXSBdO1xuICB9XG4gIHJldHVybiBjaGVja3N1bSA+Pj4gMDtcbn07XG5cbk9nZ09wdXNFbmNvZGVyLnByb3RvdHlwZS5nZW5lcmF0ZUNvbW1lbnRQYWdlID0gZnVuY3Rpb24oKXtcbiAgdmFyIHNlZ21lbnREYXRhVmlldyA9IG5ldyBEYXRhVmlldyggdGhpcy5zZWdtZW50RGF0YS5idWZmZXIgKTtcbiAgc2VnbWVudERhdGFWaWV3LnNldFVpbnQzMiggMCwgMTkzNzA3NjMwMywgdHJ1ZSApIC8vIE1hZ2ljIFNpZ25hdHVyZSAnT3B1cydcbiAgc2VnbWVudERhdGFWaWV3LnNldFVpbnQzMiggNCwgMTkzNjE1NDk2NCwgdHJ1ZSApIC8vIE1hZ2ljIFNpZ25hdHVyZSAnVGFncydcbiAgc2VnbWVudERhdGFWaWV3LnNldFVpbnQzMiggOCwgMTAsIHRydWUgKTsgLy8gVmVuZG9yIExlbmd0aFxuICBzZWdtZW50RGF0YVZpZXcuc2V0VWludDMyKCAxMiwgMTg2ODc4NDk3OCwgdHJ1ZSApOyAvLyBWZW5kb3IgbmFtZSAnUmVjbydcbiAgc2VnbWVudERhdGFWaWV3LnNldFVpbnQzMiggMTYsIDE5MTkyNDc0NzQsIHRydWUgKTsgLy8gVmVuZG9yIG5hbWUgJ3JkZXInXG4gIHNlZ21lbnREYXRhVmlldy5zZXRVaW50MTYoIDIwLCAyMTMyMiwgdHJ1ZSApOyAvLyBWZW5kb3IgbmFtZSAnSlMnXG4gIHNlZ21lbnREYXRhVmlldy5zZXRVaW50MzIoIDIyLCAwLCB0cnVlICk7IC8vIFVzZXIgQ29tbWVudCBMaXN0IExlbmd0aFxuICB0aGlzLnNlZ21lbnRUYWJsZUluZGV4ID0gMTtcbiAgdGhpcy5zZWdtZW50RGF0YUluZGV4ID0gdGhpcy5zZWdtZW50VGFibGVbMF0gPSAyNjtcbiAgdGhpcy5oZWFkZXJUeXBlID0gMDtcbiAgdGhpcy5nZW5lcmF0ZVBhZ2UoKTtcbn07XG5cbk9nZ09wdXNFbmNvZGVyLnByb3RvdHlwZS5nZW5lcmF0ZUlkUGFnZSA9IGZ1bmN0aW9uKCl7XG4gIHZhciBzZWdtZW50RGF0YVZpZXcgPSBuZXcgRGF0YVZpZXcoIHRoaXMuc2VnbWVudERhdGEuYnVmZmVyICk7XG4gIHNlZ21lbnREYXRhVmlldy5zZXRVaW50MzIoIDAsIDE5MzcwNzYzMDMsIHRydWUgKSAvLyBNYWdpYyBTaWduYXR1cmUgJ09wdXMnXG4gIHNlZ21lbnREYXRhVmlldy5zZXRVaW50MzIoIDQsIDE2ODQxMDQ1MjAsIHRydWUgKSAvLyBNYWdpYyBTaWduYXR1cmUgJ0hlYWQnXG4gIHNlZ21lbnREYXRhVmlldy5zZXRVaW50OCggOCwgMSwgdHJ1ZSApOyAvLyBWZXJzaW9uXG4gIHNlZ21lbnREYXRhVmlldy5zZXRVaW50OCggOSwgdGhpcy5jb25maWcubnVtYmVyT2ZDaGFubmVscywgdHJ1ZSApOyAvLyBDaGFubmVsIGNvdW50XG4gIHNlZ21lbnREYXRhVmlldy5zZXRVaW50MTYoIDEwLCAzODQwLCB0cnVlICk7IC8vIHByZS1za2lwICg4MG1zKVxuICBzZWdtZW50RGF0YVZpZXcuc2V0VWludDMyKCAxMiwgdGhpcy5jb25maWcub3JpZ2luYWxTYW1wbGVSYXRlT3ZlcnJpZGUgfHwgdGhpcy5jb25maWcub3JpZ2luYWxTYW1wbGVSYXRlLCB0cnVlICk7IC8vIG9yaWdpbmFsIHNhbXBsZSByYXRlXG4gIHNlZ21lbnREYXRhVmlldy5zZXRVaW50MTYoIDE2LCAwLCB0cnVlICk7IC8vIG91dHB1dCBnYWluXG4gIHNlZ21lbnREYXRhVmlldy5zZXRVaW50OCggMTgsIDAsIHRydWUgKTsgLy8gY2hhbm5lbCBtYXAgMCA9IG1vbm8gb3Igc3RlcmVvXG4gIHRoaXMuc2VnbWVudFRhYmxlSW5kZXggPSAxO1xuICB0aGlzLnNlZ21lbnREYXRhSW5kZXggPSB0aGlzLnNlZ21lbnRUYWJsZVswXSA9IDE5O1xuICB0aGlzLmhlYWRlclR5cGUgPSAyO1xuICB0aGlzLmdlbmVyYXRlUGFnZSgpO1xufTtcblxuT2dnT3B1c0VuY29kZXIucHJvdG90eXBlLmdlbmVyYXRlUGFnZSA9IGZ1bmN0aW9uKCl7XG4gIHZhciBncmFudWxlUG9zaXRpb24gPSAoIHRoaXMubGFzdFBvc2l0aXZlR3JhbnVsZVBvc2l0aW9uID09PSB0aGlzLmdyYW51bGVQb3NpdGlvbikgPyAtMSA6IHRoaXMuZ3JhbnVsZVBvc2l0aW9uO1xuICB2YXIgcGFnZUJ1ZmZlciA9IG5ldyBBcnJheUJ1ZmZlciggIDI3ICsgdGhpcy5zZWdtZW50VGFibGVJbmRleCArIHRoaXMuc2VnbWVudERhdGFJbmRleCApO1xuICB2YXIgcGFnZUJ1ZmZlclZpZXcgPSBuZXcgRGF0YVZpZXcoIHBhZ2VCdWZmZXIgKTtcbiAgdmFyIHBhZ2UgPSBuZXcgVWludDhBcnJheSggcGFnZUJ1ZmZlciApO1xuXG4gIHBhZ2VCdWZmZXJWaWV3LnNldFVpbnQzMiggMCwgMTM5OTI4NTU4MywgdHJ1ZSk7IC8vIENhcHR1cmUgUGF0dGVybiBzdGFydHMgYWxsIHBhZ2UgaGVhZGVycyAnT2dnUydcbiAgcGFnZUJ1ZmZlclZpZXcuc2V0VWludDgoIDQsIDAsIHRydWUgKTsgLy8gVmVyc2lvblxuICBwYWdlQnVmZmVyVmlldy5zZXRVaW50OCggNSwgdGhpcy5oZWFkZXJUeXBlLCB0cnVlICk7IC8vIDEgPSBjb250aW51YXRpb24sIDIgPSBiZWdpbm5pbmcgb2Ygc3RyZWFtLCA0ID0gZW5kIG9mIHN0cmVhbVxuXG4gIC8vIE51bWJlciBvZiBzYW1wbGVzIHVwdG8gYW5kIGluY2x1ZGluZyB0aGlzIHBhZ2UgYXQgNDgwMDBIeiwgaW50byBzaWduZWQgNjQgYml0IExpdHRsZSBFbmRpYW4gaW50ZWdlclxuICAvLyBKYXZhc2NyaXB0IE51bWJlciBtYXhpbXVtIHZhbHVlIGlzIDUzIGJpdHMgb3IgMl41MyAtIDEgXG4gIHBhZ2VCdWZmZXJWaWV3LnNldFVpbnQzMiggNiwgZ3JhbnVsZVBvc2l0aW9uLCB0cnVlICk7XG4gIGlmIChncmFudWxlUG9zaXRpb24gPCAwKSB7XG4gICAgcGFnZUJ1ZmZlclZpZXcuc2V0SW50MzIoIDEwLCBNYXRoLmNlaWwoZ3JhbnVsZVBvc2l0aW9uLzQyOTQ5NjcyOTcpIC0gMSwgdHJ1ZSApO1xuICB9XG4gIGVsc2Uge1xuICAgIHBhZ2VCdWZmZXJWaWV3LnNldEludDMyKCAxMCwgTWF0aC5mbG9vcihncmFudWxlUG9zaXRpb24vNDI5NDk2NzI5NiksIHRydWUgKTtcbiAgfVxuXG4gIHBhZ2VCdWZmZXJWaWV3LnNldFVpbnQzMiggMTQsIHRoaXMuY29uZmlnLnNlcmlhbCwgdHJ1ZSApOyAvLyBCaXRzdHJlYW0gc2VyaWFsIG51bWJlclxuICBwYWdlQnVmZmVyVmlldy5zZXRVaW50MzIoIDE4LCB0aGlzLnBhZ2VJbmRleCsrLCB0cnVlICk7IC8vIFBhZ2Ugc2VxdWVuY2UgbnVtYmVyXG4gIHBhZ2VCdWZmZXJWaWV3LnNldFVpbnQ4KCAyNiwgdGhpcy5zZWdtZW50VGFibGVJbmRleCwgdHJ1ZSApOyAvLyBOdW1iZXIgb2Ygc2VnbWVudHMgaW4gcGFnZS5cbiAgcGFnZS5zZXQoIHRoaXMuc2VnbWVudFRhYmxlLnN1YmFycmF5KDAsIHRoaXMuc2VnbWVudFRhYmxlSW5kZXgpLCAyNyApOyAvLyBTZWdtZW50IFRhYmxlXG4gIHBhZ2Uuc2V0KCB0aGlzLnNlZ21lbnREYXRhLnN1YmFycmF5KDAsIHRoaXMuc2VnbWVudERhdGFJbmRleCksIDI3ICsgdGhpcy5zZWdtZW50VGFibGVJbmRleCApOyAvLyBTZWdtZW50IERhdGFcbiAgcGFnZUJ1ZmZlclZpZXcuc2V0VWludDMyKCAyMiwgdGhpcy5nZXRDaGVja3N1bSggcGFnZSApLCB0cnVlICk7IC8vIENoZWNrc3VtXG5cbiAgZ2xvYmFsWydwb3N0TWVzc2FnZSddKCB7bWVzc2FnZTogJ3BhZ2UnLCBwYWdlOiBwYWdlLCBzYW1wbGVQb3NpdGlvbjogdGhpcy5ncmFudWxlUG9zaXRpb259LCBbcGFnZS5idWZmZXJdICk7XG4gIHRoaXMuc2VnbWVudFRhYmxlSW5kZXggPSAwO1xuICB0aGlzLnNlZ21lbnREYXRhSW5kZXggPSAwO1xuICB0aGlzLmZyYW1lc0luUGFnZSA9IDA7XG4gIGlmICggZ3JhbnVsZVBvc2l0aW9uID4gMCApIHtcbiAgICB0aGlzLmxhc3RQb3NpdGl2ZUdyYW51bGVQb3NpdGlvbiA9IGdyYW51bGVQb3NpdGlvbjtcbiAgfVxufTtcblxuT2dnT3B1c0VuY29kZXIucHJvdG90eXBlLmluaXRDaGVja3N1bVRhYmxlID0gZnVuY3Rpb24oKXtcbiAgdGhpcy5jaGVja3N1bVRhYmxlID0gW107XG4gIGZvciAoIHZhciBpID0gMDsgaSA8IDI1NjsgaSsrICkge1xuICAgIHZhciByID0gaSA8PCAyNDtcbiAgICBmb3IgKCB2YXIgaiA9IDA7IGogPCA4OyBqKysgKSB7XG4gICAgICByID0gKChyICYgMHg4MDAwMDAwMCkgIT0gMCkgPyAoKHIgPDwgMSkgXiAweDA0YzExZGI3KSA6IChyIDw8IDEpO1xuICAgIH1cbiAgICB0aGlzLmNoZWNrc3VtVGFibGVbaV0gPSAociAmIDB4ZmZmZmZmZmYpO1xuICB9XG59O1xuXG5PZ2dPcHVzRW5jb2Rlci5wcm90b3R5cGUuc2V0T3B1c0NvbnRyb2wgPSBmdW5jdGlvbiggY29udHJvbCwgdmFsdWUgKXtcbiAgdmFyIGxvY2F0aW9uID0gdGhpcy5fbWFsbG9jKCA0ICk7XG4gIHRoaXMuSEVBUDMyWyBsb2NhdGlvbiA+PiAyIF0gPSB2YWx1ZTtcbiAgdGhpcy5fb3B1c19lbmNvZGVyX2N0bCggdGhpcy5lbmNvZGVyLCBjb250cm9sLCBsb2NhdGlvbiApO1xuICB0aGlzLl9mcmVlKCBsb2NhdGlvbiApO1xufTtcblxuT2dnT3B1c0VuY29kZXIucHJvdG90eXBlLmluaXRDb2RlYyA9IGZ1bmN0aW9uKCkge1xuICB2YXIgZXJyTG9jYXRpb24gPSB0aGlzLl9tYWxsb2MoIDQgKTtcbiAgdGhpcy5lbmNvZGVyID0gdGhpcy5fb3B1c19lbmNvZGVyX2NyZWF0ZSggdGhpcy5jb25maWcuZW5jb2RlclNhbXBsZVJhdGUsIHRoaXMuY29uZmlnLm51bWJlck9mQ2hhbm5lbHMsIHRoaXMuY29uZmlnLmVuY29kZXJBcHBsaWNhdGlvbiwgZXJyTG9jYXRpb24gKTtcbiAgdGhpcy5fZnJlZSggZXJyTG9jYXRpb24gKTtcblxuICBpZiAoIHRoaXMuY29uZmlnLmVuY29kZXJCaXRSYXRlICkge1xuICAgIHRoaXMuc2V0T3B1c0NvbnRyb2woIDQwMDIsIHRoaXMuY29uZmlnLmVuY29kZXJCaXRSYXRlICk7XG4gIH1cblxuICBpZiAoIHRoaXMuY29uZmlnLmVuY29kZXJDb21wbGV4aXR5ICkge1xuICAgIHRoaXMuc2V0T3B1c0NvbnRyb2woIDQwMTAsIHRoaXMuY29uZmlnLmVuY29kZXJDb21wbGV4aXR5ICk7XG4gIH1cblxuICB0aGlzLmVuY29kZXJTYW1wbGVzUGVyQ2hhbm5lbCA9IHRoaXMuY29uZmlnLmVuY29kZXJTYW1wbGVSYXRlICogdGhpcy5jb25maWcuZW5jb2RlckZyYW1lU2l6ZSAvIDEwMDA7XG4gIHRoaXMuZW5jb2RlclNhbXBsZXNQZXJDaGFubmVsUG9pbnRlciA9IHRoaXMuX21hbGxvYyggNCApO1xuICB0aGlzLkhFQVAzMlsgdGhpcy5lbmNvZGVyU2FtcGxlc1BlckNoYW5uZWxQb2ludGVyID4+IDIgXSA9IHRoaXMuZW5jb2RlclNhbXBsZXNQZXJDaGFubmVsO1xuXG4gIHRoaXMuZW5jb2RlckJ1ZmZlckxlbmd0aCA9IHRoaXMuZW5jb2RlclNhbXBsZXNQZXJDaGFubmVsICogdGhpcy5jb25maWcubnVtYmVyT2ZDaGFubmVscztcbiAgdGhpcy5lbmNvZGVyQnVmZmVyUG9pbnRlciA9IHRoaXMuX21hbGxvYyggdGhpcy5lbmNvZGVyQnVmZmVyTGVuZ3RoICogNCApOyAvLyA0IGJ5dGVzIHBlciBzYW1wbGVcbiAgdGhpcy5lbmNvZGVyQnVmZmVyID0gdGhpcy5IRUFQRjMyLnN1YmFycmF5KCB0aGlzLmVuY29kZXJCdWZmZXJQb2ludGVyID4+IDIsICh0aGlzLmVuY29kZXJCdWZmZXJQb2ludGVyID4+IDIpICsgdGhpcy5lbmNvZGVyQnVmZmVyTGVuZ3RoICk7XG5cbiAgdGhpcy5lbmNvZGVyT3V0cHV0TWF4TGVuZ3RoID0gNDAwMDtcbiAgdGhpcy5lbmNvZGVyT3V0cHV0UG9pbnRlciA9IHRoaXMuX21hbGxvYyggdGhpcy5lbmNvZGVyT3V0cHV0TWF4TGVuZ3RoICk7XG4gIHRoaXMuZW5jb2Rlck91dHB1dEJ1ZmZlciA9IHRoaXMuSEVBUFU4LnN1YmFycmF5KCB0aGlzLmVuY29kZXJPdXRwdXRQb2ludGVyLCB0aGlzLmVuY29kZXJPdXRwdXRQb2ludGVyICsgdGhpcy5lbmNvZGVyT3V0cHV0TWF4TGVuZ3RoICk7XG59O1xuXG5PZ2dPcHVzRW5jb2Rlci5wcm90b3R5cGUuaW5pdFJlc2FtcGxlciA9IGZ1bmN0aW9uKCkge1xuICB2YXIgZXJyTG9jYXRpb24gPSB0aGlzLl9tYWxsb2MoIDQgKTtcbiAgdGhpcy5yZXNhbXBsZXIgPSB0aGlzLl9zcGVleF9yZXNhbXBsZXJfaW5pdCggdGhpcy5jb25maWcubnVtYmVyT2ZDaGFubmVscywgdGhpcy5jb25maWcub3JpZ2luYWxTYW1wbGVSYXRlLCB0aGlzLmNvbmZpZy5lbmNvZGVyU2FtcGxlUmF0ZSwgdGhpcy5jb25maWcucmVzYW1wbGVRdWFsaXR5LCBlcnJMb2NhdGlvbiApO1xuICB0aGlzLl9mcmVlKCBlcnJMb2NhdGlvbiApO1xuXG4gIHRoaXMucmVzYW1wbGVCdWZmZXJJbmRleCA9IDA7XG4gIHRoaXMucmVzYW1wbGVTYW1wbGVzUGVyQ2hhbm5lbCA9IHRoaXMuY29uZmlnLm9yaWdpbmFsU2FtcGxlUmF0ZSAqIHRoaXMuY29uZmlnLmVuY29kZXJGcmFtZVNpemUgLyAxMDAwO1xuICB0aGlzLnJlc2FtcGxlU2FtcGxlc1BlckNoYW5uZWxQb2ludGVyID0gdGhpcy5fbWFsbG9jKCA0ICk7XG4gIHRoaXMuSEVBUDMyWyB0aGlzLnJlc2FtcGxlU2FtcGxlc1BlckNoYW5uZWxQb2ludGVyID4+IDIgXSA9IHRoaXMucmVzYW1wbGVTYW1wbGVzUGVyQ2hhbm5lbDtcblxuICB0aGlzLnJlc2FtcGxlQnVmZmVyTGVuZ3RoID0gdGhpcy5yZXNhbXBsZVNhbXBsZXNQZXJDaGFubmVsICogdGhpcy5jb25maWcubnVtYmVyT2ZDaGFubmVscztcbiAgdGhpcy5yZXNhbXBsZUJ1ZmZlclBvaW50ZXIgPSB0aGlzLl9tYWxsb2MoIHRoaXMucmVzYW1wbGVCdWZmZXJMZW5ndGggKiA0ICk7IC8vIDQgYnl0ZXMgcGVyIHNhbXBsZVxuICB0aGlzLnJlc2FtcGxlQnVmZmVyID0gdGhpcy5IRUFQRjMyLnN1YmFycmF5KCB0aGlzLnJlc2FtcGxlQnVmZmVyUG9pbnRlciA+PiAyLCAodGhpcy5yZXNhbXBsZUJ1ZmZlclBvaW50ZXIgPj4gMikgKyB0aGlzLnJlc2FtcGxlQnVmZmVyTGVuZ3RoICk7XG59O1xuXG5PZ2dPcHVzRW5jb2Rlci5wcm90b3R5cGUuaW50ZXJsZWF2ZSA9IGZ1bmN0aW9uKCBidWZmZXJzICkge1xuICBmb3IgKCB2YXIgaSA9IDA7IGkgPCB0aGlzLmNvbmZpZy5idWZmZXJMZW5ndGg7IGkrKyApIHtcbiAgICBmb3IgKCB2YXIgY2hhbm5lbCA9IDA7IGNoYW5uZWwgPCB0aGlzLmNvbmZpZy5udW1iZXJPZkNoYW5uZWxzOyBjaGFubmVsKysgKSB7XG4gICAgICB0aGlzLmludGVybGVhdmVkQnVmZmVyc1sgaSAqIHRoaXMuY29uZmlnLm51bWJlck9mQ2hhbm5lbHMgKyBjaGFubmVsIF0gPSBidWZmZXJzWyBjaGFubmVsIF1bIGkgXTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gdGhpcy5pbnRlcmxlYXZlZEJ1ZmZlcnM7XG59O1xuXG5PZ2dPcHVzRW5jb2Rlci5wcm90b3R5cGUuc2VnbWVudFBhY2tldCA9IGZ1bmN0aW9uKCBwYWNrZXRMZW5ndGggKSB7XG4gIHZhciBwYWNrZXRJbmRleCA9IDA7XG5cbiAgd2hpbGUgKCBwYWNrZXRMZW5ndGggPj0gMCApIHtcblxuICAgIGlmICggdGhpcy5zZWdtZW50VGFibGVJbmRleCA9PT0gMjU1ICkge1xuICAgICAgdGhpcy5nZW5lcmF0ZVBhZ2UoKTtcbiAgICAgIHRoaXMuaGVhZGVyVHlwZSA9IDE7XG4gICAgfVxuXG4gICAgdmFyIHNlZ21lbnRMZW5ndGggPSBNYXRoLm1pbiggcGFja2V0TGVuZ3RoLCAyNTUgKTtcbiAgICB0aGlzLnNlZ21lbnRUYWJsZVsgdGhpcy5zZWdtZW50VGFibGVJbmRleCsrIF0gPSBzZWdtZW50TGVuZ3RoO1xuICAgIHRoaXMuc2VnbWVudERhdGEuc2V0KCB0aGlzLmVuY29kZXJPdXRwdXRCdWZmZXIuc3ViYXJyYXkoIHBhY2tldEluZGV4LCBwYWNrZXRJbmRleCArIHNlZ21lbnRMZW5ndGggKSwgdGhpcy5zZWdtZW50RGF0YUluZGV4ICk7XG4gICAgdGhpcy5zZWdtZW50RGF0YUluZGV4ICs9IHNlZ21lbnRMZW5ndGg7XG4gICAgcGFja2V0SW5kZXggKz0gc2VnbWVudExlbmd0aDtcbiAgICBwYWNrZXRMZW5ndGggLT0gMjU1O1xuICB9XG5cbiAgdGhpcy5ncmFudWxlUG9zaXRpb24gKz0gKCA0OCAqIHRoaXMuY29uZmlnLmVuY29kZXJGcmFtZVNpemUgKTtcbiAgaWYgKCB0aGlzLnNlZ21lbnRUYWJsZUluZGV4ID09PSAyNTUgKSB7XG4gICAgdGhpcy5nZW5lcmF0ZVBhZ2UoKTtcbiAgICB0aGlzLmhlYWRlclR5cGUgPSAwO1xuICB9XG59O1xuXG5cbmlmICghTW9kdWxlKSB7XG4gIE1vZHVsZSA9IHt9O1xufVxuXG5Nb2R1bGVbJ21haW5SZWFkeSddID0gbWFpblJlYWR5O1xuTW9kdWxlWydPZ2dPcHVzRW5jb2RlciddID0gT2dnT3B1c0VuY29kZXI7XG5Nb2R1bGVbJ29uUnVudGltZUluaXRpYWxpemVkJ10gPSBtYWluUmVhZHlSZXNvbHZlO1xuXG5tb2R1bGUuZXhwb3J0cyA9IE1vZHVsZTtcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/encoderWorker.js\n")}})}));var moduleOverrides={},key;for(key in Module)Module.hasOwnProperty(key)&&(moduleOverrides[key]=Module[key]);var arguments_=[],thisProgram="./this.program",quit_=function(e,n){throw n},ENVIRONMENT_IS_WEB=!1,ENVIRONMENT_IS_WORKER=!1,ENVIRONMENT_IS_NODE=!1,ENVIRONMENT_HAS_NODE=!1,ENVIRONMENT_IS_SHELL=!1;ENVIRONMENT_IS_WEB="object"==typeof window,ENVIRONMENT_IS_WORKER="function"==typeof importScripts,ENVIRONMENT_HAS_NODE="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node,ENVIRONMENT_IS_NODE=ENVIRONMENT_HAS_NODE&&!ENVIRONMENT_IS_WEB&&!ENVIRONMENT_IS_WORKER,ENVIRONMENT_IS_SHELL=!ENVIRONMENT_IS_WEB&&!ENVIRONMENT_IS_NODE&&!ENVIRONMENT_IS_WORKER;var scriptDirectory="",read_,readAsync,readBinary,setWindowTitle,nodeFS,nodePath;function locateFile(e){return Module.locateFile?Module.locateFile(e,scriptDirectory):scriptDirectory+e}ENVIRONMENT_IS_NODE?(scriptDirectory=__dirname+"/",read_=function(e,n){var t;return nodeFS||(nodeFS=require("fs")),nodePath||(nodePath=require("path")),e=nodePath.normalize(e),t=nodeFS.readFileSync(e),n?t:t.toString()},readBinary=function(e){var n=read_(e,!0);return n.buffer||(n=new Uint8Array(n)),assert(n.buffer),n},process.argv.length>1&&(thisProgram=process.argv[1].replace(/\\/g,"/")),arguments_=process.argv.slice(2),"undefined"!=typeof module&&(module.exports=Module),process.on("uncaughtException",(function(e){if(!(e instanceof ExitStatus))throw e})),process.on("unhandledRejection",abort),quit_=function(e){process.exit(e)},Module.inspect=function(){return"[Emscripten Module object]"}):ENVIRONMENT_IS_SHELL?("undefined"!=typeof read&&(read_=function(e){return read(e)}),readBinary=function(e){var n;return"function"==typeof readbuffer?new Uint8Array(readbuffer(e)):(assert("object"==typeof(n=read(e,"binary"))),n)},"undefined"!=typeof scriptArgs?arguments_=scriptArgs:"undefined"!=typeof arguments&&(arguments_=arguments),"function"==typeof quit&&(quit_=function(e){quit(e)}),"undefined"!=typeof print&&("undefined"==typeof console&&(console={}),console.log=print,console.warn=console.error="undefined"!=typeof printErr?printErr:print)):(ENVIRONMENT_IS_WEB||ENVIRONMENT_IS_WORKER)&&(ENVIRONMENT_IS_WORKER?scriptDirectory=self.location.href:document.currentScript&&(scriptDirectory=document.currentScript.src),scriptDirectory=0!==scriptDirectory.indexOf("blob:")?scriptDirectory.substr(0,scriptDirectory.lastIndexOf("/")+1):"",read_=function(e){var n=new XMLHttpRequest;return n.open("GET",e,!1),n.send(null),n.responseText},ENVIRONMENT_IS_WORKER&&(readBinary=function(e){var n=new XMLHttpRequest;return n.open("GET",e,!1),n.responseType="arraybuffer",n.send(null),new Uint8Array(n.response)}),readAsync=function(e,n,t){var r=new XMLHttpRequest;r.open("GET",e,!0),r.responseType="arraybuffer",r.onload=function(){200==r.status||0==r.status&&r.response?n(r.response):t()},r.onerror=t,r.send(null)},setWindowTitle=function(e){document.title=e});var out=Module.print||console.log.bind(console),err=Module.printErr||console.warn.bind(console);for(key in moduleOverrides)moduleOverrides.hasOwnProperty(key)&&(Module[key]=moduleOverrides[key]);moduleOverrides=null,Module.arguments&&(arguments_=Module.arguments),Module.thisProgram&&(thisProgram=Module.thisProgram),Module.quit&&(quit_=Module.quit);var STACK_ALIGN=16;function dynamicAlloc(e){var n=HEAP32[DYNAMICTOP_PTR>>2],t=n+e+15&-16;return t>_emscripten_get_heap_size()&&abort(),HEAP32[DYNAMICTOP_PTR>>2]=t,n}function alignMemory(e,n){return n||(n=STACK_ALIGN),Math.ceil(e/n)*n}function getNativeTypeSize(e){switch(e){case"i1":case"i8":return 1;case"i16":return 2;case"i32":case"float":return 4;case"i64":case"double":return 8;default:if("*"===e[e.length-1])return 4;if("i"===e[0]){var n=parseInt(e.substr(1));return assert(n%8==0,"getNativeTypeSize invalid bits "+n+", type "+e),n/8}return 0}}function warnOnce(e){warnOnce.shown||(warnOnce.shown={}),warnOnce.shown[e]||(warnOnce.shown[e]=1,err(e))}var asm2wasmImports={"f64-rem":function(e,n){return e%n},debugger:function(){}},jsCallStartIndex=1,functionPointers=new Array(0);function convertJsFunctionToWasm(e,n){var t=[1,0,1,96],r=n.slice(0,1),a=n.slice(1),l={i:127,j:126,f:125,d:124};t.push(a.length);for(var i=0;i<a.length;++i)t.push(l[a[i]]);"v"==r?t.push(0):t=t.concat([1,l[r]]),t[1]=t.length-2;var o=new Uint8Array([0,97,115,109,1,0,0,0].concat(t,[2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0])),u=new WebAssembly.Module(o);return new WebAssembly.Instance(u,{e:{f:e}}).exports.f}function addFunctionWasm(e,n){var t=wasmTable,r=t.length;try{t.grow(1)}catch(e){if(!e instanceof RangeError)throw e;throw"Unable to grow wasm table. Use a higher value for RESERVED_FUNCTION_POINTERS or set ALLOW_TABLE_GROWTH."}try{t.set(r,e)}catch(l){if(!l instanceof TypeError)throw l;assert(void 0!==n,"Missing signature argument to addFunction");var a=convertJsFunctionToWasm(e,n);t.set(r,a)}return r}function removeFunctionWasm(e){}function addFunction(e,n){for(var t=0;t<0;t++)if(!functionPointers[t])return functionPointers[t]=e,jsCallStartIndex+t;throw"Finished up all reserved function pointers. Use a higher value for RESERVED_FUNCTION_POINTERS."}function removeFunction(e){functionPointers[e-jsCallStartIndex]=null}var funcWrappers={};function getFuncWrapper(e,n){if(e){assert(n),funcWrappers[n]||(funcWrappers[n]={});var t=funcWrappers[n];return t[e]||(1===n.length?t[e]=function(){return dynCall(n,e)}:2===n.length?t[e]=function(t){return dynCall(n,e,[t])}:t[e]=function(){return dynCall(n,e,Array.prototype.slice.call(arguments))}),t[e]}}function makeBigInt(e,n,t){return t?+(e>>>0)+4294967296*+(n>>>0):+(e>>>0)+4294967296*+(0|n)}function dynCall(e,n,t){return t&&t.length?Module["dynCall_"+e].apply(null,[n].concat(t)):Module["dynCall_"+e].call(null,n)}var tempRet0=0,setTempRet0=function(e){tempRet0=e},getTempRet0=function(){return tempRet0},Runtime={},GLOBAL_BASE=1024,wasmBinary,noExitRuntime,wasmMemory;function setValue(e,n,t,r){switch("*"===(t=t||"i8").charAt(t.length-1)&&(t="i32"),t){case"i1":case"i8":HEAP8[e>>0]=n;break;case"i16":HEAP16[e>>1]=n;break;case"i32":HEAP32[e>>2]=n;break;case"i64":tempI64=[n>>>0,(tempDouble=n,+Math_abs(tempDouble)>=1?tempDouble>0?(0|Math_min(+Math_floor(tempDouble/4294967296),4294967295))>>>0:~~+Math_ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[e>>2]=tempI64[0],HEAP32[e+4>>2]=tempI64[1];break;case"float":HEAPF32[e>>2]=n;break;case"double":HEAPF64[e>>3]=n;break;default:abort("invalid type for setValue: "+t)}}function getValue(e,n,t){switch("*"===(n=n||"i8").charAt(n.length-1)&&(n="i32"),n){case"i1":case"i8":return HEAP8[e>>0];case"i16":return HEAP16[e>>1];case"i32":case"i64":return HEAP32[e>>2];case"float":return HEAPF32[e>>2];case"double":return HEAPF64[e>>3];default:abort("invalid type for getValue: "+n)}return null}Module.wasmBinary&&(wasmBinary=Module.wasmBinary),Module.noExitRuntime&&(noExitRuntime=Module.noExitRuntime),"object"!=typeof WebAssembly&&err("no native wasm support detected");var wasmTable=new WebAssembly.Table({initial:16,maximum:16,element:"anyfunc"}),ABORT=!1,EXITSTATUS=0;function assert(e,n){e||abort("Assertion failed: "+n)}function getCFunc(e){var n=Module["_"+e];return assert(n,"Cannot call unknown function "+e+", make sure it is exported"),n}function ccall(e,n,t,r,a){var l={string:function(e){var n=0;if(null!=e&&0!==e){var t=1+(e.length<<2);stringToUTF8(e,n=stackAlloc(t),t)}return n},array:function(e){var n=stackAlloc(e.length);return writeArrayToMemory(e,n),n}},i=getCFunc(e),o=[],u=0;if(r)for(var c=0;c<r.length;c++){var s=l[t[c]];s?(0===u&&(u=stackSave()),o[c]=s(r[c])):o[c]=r[c]}var g=i.apply(null,o);return g=function(e){return"string"===n?UTF8ToString(e):"boolean"===n?Boolean(e):e}(g),0!==u&&stackRestore(u),g}function cwrap(e,n,t,r){var a=(t=t||[]).every((function(e){return"number"===e}));return"string"!==n&&a&&!r?getCFunc(e):function(){return ccall(e,n,t,arguments,r)}}var ALLOC_NORMAL=0,ALLOC_STACK=1,ALLOC_DYNAMIC=2,ALLOC_NONE=3;function allocate(e,n,t,r){var a,l;"number"==typeof e?(a=!0,l=e):(a=!1,l=e.length);var i,o="string"==typeof n?n:null;if(i=t==ALLOC_NONE?r:[_malloc,stackAlloc,dynamicAlloc][t](Math.max(l,o?1:n.length)),a){var u;for(r=i,assert(0==(3&i)),u=i+(-4&l);r<u;r+=4)HEAP32[r>>2]=0;for(u=i+l;r<u;)HEAP8[r++>>0]=0;return i}if("i8"===o)return e.subarray||e.slice?HEAPU8.set(e,i):HEAPU8.set(new Uint8Array(e),i),i;for(var c,s,g,d=0;d<l;){var m=e[d];0!==(c=o||n[d])?("i64"==c&&(c="i32"),setValue(i+d,m,c),g!==c&&(s=getNativeTypeSize(c),g=c),d+=s):d++}return i}function getMemory(e){return runtimeInitialized?_malloc(e):dynamicAlloc(e)}function Pointer_stringify(e,n){abort("this function has been removed - you should use UTF8ToString(ptr, maxBytesToRead) instead!")}function AsciiToString(e){for(var n="";;){var t=HEAPU8[e++>>0];if(!t)return n;n+=String.fromCharCode(t)}}function stringToAscii(e,n){return writeAsciiToMemory(e,n,!1)}var UTF8Decoder="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function UTF8ArrayToString(e,n,t){for(var r=n+t,a=n;e[a]&&!(a>=r);)++a;if(a-n>16&&e.subarray&&UTF8Decoder)return UTF8Decoder.decode(e.subarray(n,a));for(var l="";n<a;){var i=e[n++];if(128&i){var o=63&e[n++];if(192!=(224&i)){var u=63&e[n++];if((i=224==(240&i)?(15&i)<<12|o<<6|u:(7&i)<<18|o<<12|u<<6|63&e[n++])<65536)l+=String.fromCharCode(i);else{var c=i-65536;l+=String.fromCharCode(55296|c>>10,56320|1023&c)}}else l+=String.fromCharCode((31&i)<<6|o)}else l+=String.fromCharCode(i)}return l}function UTF8ToString(e,n){return e?UTF8ArrayToString(HEAPU8,e,n):""}function stringToUTF8Array(e,n,t,r){if(!(r>0))return 0;for(var a=t,l=t+r-1,i=0;i<e.length;++i){var o=e.charCodeAt(i);if(o>=55296&&o<=57343&&(o=65536+((1023&o)<<10)|1023&e.charCodeAt(++i)),o<=127){if(t>=l)break;n[t++]=o}else if(o<=2047){if(t+1>=l)break;n[t++]=192|o>>6,n[t++]=128|63&o}else if(o<=65535){if(t+2>=l)break;n[t++]=224|o>>12,n[t++]=128|o>>6&63,n[t++]=128|63&o}else{if(t+3>=l)break;n[t++]=240|o>>18,n[t++]=128|o>>12&63,n[t++]=128|o>>6&63,n[t++]=128|63&o}}return n[t]=0,t-a}function stringToUTF8(e,n,t){return stringToUTF8Array(e,HEAPU8,n,t)}function lengthBytesUTF8(e){for(var n=0,t=0;t<e.length;++t){var r=e.charCodeAt(t);r>=55296&&r<=57343&&(r=65536+((1023&r)<<10)|1023&e.charCodeAt(++t)),r<=127?++n:n+=r<=2047?2:r<=65535?3:4}return n}var UTF16Decoder="undefined"!=typeof TextDecoder?new TextDecoder("utf-16le"):void 0;function UTF16ToString(e){for(var n=e,t=n>>1;HEAP16[t];)++t;if((n=t<<1)-e>32&&UTF16Decoder)return UTF16Decoder.decode(HEAPU8.subarray(e,n));for(var r=0,a="";;){var l=HEAP16[e+2*r>>1];if(0==l)return a;++r,a+=String.fromCharCode(l)}}function stringToUTF16(e,n,t){if(void 0===t&&(t=2147483647),t<2)return 0;for(var r=n,a=(t-=2)<2*e.length?t/2:e.length,l=0;l<a;++l){var i=e.charCodeAt(l);HEAP16[n>>1]=i,n+=2}return HEAP16[n>>1]=0,n-r}function lengthBytesUTF16(e){return 2*e.length}function UTF32ToString(e){for(var n=0,t="";;){var r=HEAP32[e+4*n>>2];if(0==r)return t;if(++n,r>=65536){var a=r-65536;t+=String.fromCharCode(55296|a>>10,56320|1023&a)}else t+=String.fromCharCode(r)}}function stringToUTF32(e,n,t){if(void 0===t&&(t=2147483647),t<4)return 0;for(var r=n,a=r+t-4,l=0;l<e.length;++l){var i=e.charCodeAt(l);if(i>=55296&&i<=57343&&(i=65536+((1023&i)<<10)|1023&e.charCodeAt(++l)),HEAP32[n>>2]=i,(n+=4)+4>a)break}return HEAP32[n>>2]=0,n-r}function lengthBytesUTF32(e){for(var n=0,t=0;t<e.length;++t){var r=e.charCodeAt(t);r>=55296&&r<=57343&&++t,n+=4}return n}function allocateUTF8(e){var n=lengthBytesUTF8(e)+1,t=_malloc(n);return t&&stringToUTF8Array(e,HEAP8,t,n),t}function allocateUTF8OnStack(e){var n=lengthBytesUTF8(e)+1,t=stackAlloc(n);return stringToUTF8Array(e,HEAP8,t,n),t}function writeStringToMemory(e,n,t){var r,a;warnOnce("writeStringToMemory is deprecated and should not be called! Use stringToUTF8() instead!"),t&&(a=n+lengthBytesUTF8(e),r=HEAP8[a]),stringToUTF8(e,n,1/0),t&&(HEAP8[a]=r)}function writeArrayToMemory(e,n){HEAP8.set(e,n)}function writeAsciiToMemory(e,n,t){for(var r=0;r<e.length;++r)HEAP8[n++>>0]=e.charCodeAt(r);t||(HEAP8[n>>0]=0)}var PAGE_SIZE=16384,WASM_PAGE_SIZE=65536,ASMJS_PAGE_SIZE=16777216,HEAP,buffer,HEAP8,HEAPU8,HEAP16,HEAPU16,HEAP32,HEAPU32,HEAPF32,HEAPF64;function alignUp(e,n){return e%n>0&&(e+=n-e%n),e}function updateGlobalBufferAndViews(e){buffer=e,Module.HEAP8=HEAP8=new Int8Array(e),Module.HEAP16=HEAP16=new Int16Array(e),Module.HEAP32=HEAP32=new Int32Array(e),Module.HEAPU8=HEAPU8=new Uint8Array(e),Module.HEAPU16=HEAPU16=new Uint16Array(e),Module.HEAPU32=HEAPU32=new Uint32Array(e),Module.HEAPF32=HEAPF32=new Float32Array(e),Module.HEAPF64=HEAPF64=new Float64Array(e)}var STATIC_BASE=1024,STACK_BASE=46720,STACKTOP=STACK_BASE,STACK_MAX=5289600,DYNAMIC_BASE=5289600,DYNAMICTOP_PTR=46512,TOTAL_STACK=5242880,INITIAL_TOTAL_MEMORY=Module.TOTAL_MEMORY||16777216;function callRuntimeCallbacks(e){for(;e.length>0;){var n=e.shift();if("function"!=typeof n){var t=n.func;"number"==typeof t?void 0===n.arg?Module.dynCall_v(t):Module.dynCall_vi(t,n.arg):t(void 0===n.arg?null:n.arg)}else n()}}wasmMemory=Module.wasmMemory?Module.wasmMemory:new WebAssembly.Memory({initial:INITIAL_TOTAL_MEMORY/WASM_PAGE_SIZE,maximum:INITIAL_TOTAL_MEMORY/WASM_PAGE_SIZE}),wasmMemory&&(buffer=wasmMemory.buffer),INITIAL_TOTAL_MEMORY=buffer.byteLength,updateGlobalBufferAndViews(buffer),HEAP32[DYNAMICTOP_PTR>>2]=DYNAMIC_BASE;var __ATPRERUN__=[],__ATINIT__=[],__ATMAIN__=[],__ATEXIT__=[],__ATPOSTRUN__=[],runtimeInitialized=!1,runtimeExited=!1;function preRun(){if(Module.preRun)for("function"==typeof Module.preRun&&(Module.preRun=[Module.preRun]);Module.preRun.length;)addOnPreRun(Module.preRun.shift());callRuntimeCallbacks(__ATPRERUN__)}function initRuntime(){runtimeInitialized=!0,callRuntimeCallbacks(__ATINIT__)}function preMain(){callRuntimeCallbacks(__ATMAIN__)}function exitRuntime(){runtimeExited=!0}function postRun(){if(Module.postRun)for("function"==typeof Module.postRun&&(Module.postRun=[Module.postRun]);Module.postRun.length;)addOnPostRun(Module.postRun.shift());callRuntimeCallbacks(__ATPOSTRUN__)}function addOnPreRun(e){__ATPRERUN__.unshift(e)}function addOnInit(e){__ATINIT__.unshift(e)}function addOnPreMain(e){__ATMAIN__.unshift(e)}function addOnExit(e){}function addOnPostRun(e){__ATPOSTRUN__.unshift(e)}function unSign(e,n,t){return e>=0?e:n<=32?2*Math.abs(1<<n-1)+e:Math.pow(2,n)+e}function reSign(e,n,t){if(e<=0)return e;var r=n<=32?Math.abs(1<<n-1):Math.pow(2,n-1);return e>=r&&(n<=32||e>r)&&(e=-2*r+e),e}var Math_abs=Math.abs,Math_cos=Math.cos,Math_sin=Math.sin,Math_tan=Math.tan,Math_acos=Math.acos,Math_asin=Math.asin,Math_atan=Math.atan,Math_atan2=Math.atan2,Math_exp=Math.exp,Math_log=Math.log,Math_sqrt=Math.sqrt,Math_ceil=Math.ceil,Math_floor=Math.floor,Math_pow=Math.pow,Math_imul=Math.imul,Math_fround=Math.fround,Math_round=Math.round,Math_min=Math.min,Math_max=Math.max,Math_clz32=Math.clz32,Math_trunc=Math.trunc,runDependencies=0,runDependencyWatcher=null,dependenciesFulfilled=null;function getUniqueRunDependency(e){return e}function addRunDependency(e){runDependencies++,Module.monitorRunDependencies&&Module.monitorRunDependencies(runDependencies)}function removeRunDependency(e){if(runDependencies--,Module.monitorRunDependencies&&Module.monitorRunDependencies(runDependencies),0==runDependencies&&(null!==runDependencyWatcher&&(clearInterval(runDependencyWatcher),runDependencyWatcher=null),dependenciesFulfilled)){var n=dependenciesFulfilled;dependenciesFulfilled=null,n()}}function abort(e){throw Module.onAbort&&Module.onAbort(e),out(e+=""),err(e),ABORT=!0,EXITSTATUS=1,"abort("+e+"). Build with -s ASSERTIONS=1 for more info."}Module.preloadedImages={},Module.preloadedAudios={};var memoryInitializer=null,dataURIPrefix="data:application/octet-stream;base64,";function isDataURI(e){return String.prototype.startsWith?e.startsWith(dataURIPrefix):0===e.indexOf(dataURIPrefix)}var wasmBinaryFile="oggOpusEncoderWorker.wasm",tempDouble,tempI64;function getBinary(){try{if(wasmBinary)return new Uint8Array(wasmBinary);if(readBinary)return readBinary(wasmBinaryFile);throw"both async and sync fetching of the wasm failed"}catch(e){abort(e)}}function getBinaryPromise(){return wasmBinary||!ENVIRONMENT_IS_WEB&&!ENVIRONMENT_IS_WORKER||"function"!=typeof fetch?new Promise((function(e,n){e(getBinary())})):fetch(wasmBinaryFile,{credentials:"same-origin"}).then((function(e){if(!e.ok)throw postMessage({message:"wasmFetchError",reason:e}),"failed to load wasm binary file at '"+wasmBinaryFile+"'";return e.arrayBuffer()})).catch((function(){return getBinary()}))}function createWasm(){var e={env:asmLibraryArg,wasi_unstable:asmLibraryArg,global:{NaN:NaN,Infinity:1/0},"global.Math":Math,asm2wasm:asm2wasmImports};function n(e,n){var t=e.exports;Module.asm=t,removeRunDependency("wasm-instantiate")}function t(e){n(e.instance)}function r(n){return getBinaryPromise().then((function(n){return WebAssembly.instantiate(n,e)})).then(n,(function(e){err("failed to asynchronously prepare wasm: "+e),abort(e)}))}if(addRunDependency("wasm-instantiate"),Module.instantiateWasm)try{return Module.instantiateWasm(e,n)}catch(e){return err("Module.instantiateWasm callback failed with error: "+e),!1}return function(){if(wasmBinary||"function"!=typeof WebAssembly.instantiateStreaming||isDataURI(wasmBinaryFile)||"function"!=typeof fetch)return r(t);fetch(wasmBinaryFile,{credentials:"same-origin"}).then((function(n){return WebAssembly.instantiateStreaming(n,e).then(t,(function(e){err("wasm streaming compile failed: "+e),err("falling back to ArrayBuffer instantiation"),postMessage({message:"wasmFetchError",reason:e}),r(t)}))}))}(),{}}isDataURI(wasmBinaryFile)||(wasmBinaryFile=locateFile(wasmBinaryFile)),Module.asm=createWasm;var ASM_CONSTS=[],tempDoublePtr=46704;function copyTempFloat(e){HEAP8[tempDoublePtr]=HEAP8[e],HEAP8[tempDoublePtr+1]=HEAP8[e+1],HEAP8[tempDoublePtr+2]=HEAP8[e+2],HEAP8[tempDoublePtr+3]=HEAP8[e+3]}function copyTempDouble(e){HEAP8[tempDoublePtr]=HEAP8[e],HEAP8[tempDoublePtr+1]=HEAP8[e+1],HEAP8[tempDoublePtr+2]=HEAP8[e+2],HEAP8[tempDoublePtr+3]=HEAP8[e+3],HEAP8[tempDoublePtr+4]=HEAP8[e+4],HEAP8[tempDoublePtr+5]=HEAP8[e+5],HEAP8[tempDoublePtr+6]=HEAP8[e+6],HEAP8[tempDoublePtr+7]=HEAP8[e+7]}function demangle(e){return e}function demangleAll(e){return e.replace(/\b__Z[\w\d_]+/g,(function(e){var n=demangle(e);return e===n?e:n+" ["+e+"]"}))}function jsStackTrace(){var e=new Error;if(!e.stack){try{throw new Error(0)}catch(n){e=n}if(!e.stack)return"(no stack trace available)"}return e.stack.toString()}function stackTrace(){var e=jsStackTrace();return Module.extraStackTrace&&(e+="\n"+Module.extraStackTrace()),demangleAll(e)}var PATH={splitPath:function(e){return/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(e).slice(1)},normalizeArray:function(e,n){for(var t=0,r=e.length-1;r>=0;r--){var a=e[r];"."===a?e.splice(r,1):".."===a?(e.splice(r,1),t++):t&&(e.splice(r,1),t--)}if(n)for(;t;t--)e.unshift("..");return e},normalize:function(e){var n="/"===e.charAt(0),t="/"===e.substr(-1);return(e=PATH.normalizeArray(e.split("/").filter((function(e){return!!e})),!n).join("/"))||n||(e="."),e&&t&&(e+="/"),(n?"/":"")+e},dirname:function(e){var n=PATH.splitPath(e),t=n[0],r=n[1];return t||r?(r&&(r=r.substr(0,r.length-1)),t+r):"."},basename:function(e){if("/"===e)return"/";var n=e.lastIndexOf("/");return-1===n?e:e.substr(n+1)},extname:function(e){return PATH.splitPath(e)[3]},join:function(){var e=Array.prototype.slice.call(arguments,0);return PATH.normalize(e.join("/"))},join2:function(e,n){return PATH.normalize(e+"/"+n)}},SYSCALLS={buffers:[null,[],[]],printChar:function(e,n){var t=SYSCALLS.buffers[e];0===n||10===n?((1===e?out:err)(UTF8ArrayToString(t,0)),t.length=0):t.push(n)},varargs:0,get:function(e){return SYSCALLS.varargs+=4,HEAP32[SYSCALLS.varargs-4>>2]},getStr:function(){return UTF8ToString(SYSCALLS.get())},get64:function(){var e=SYSCALLS.get();return SYSCALLS.get(),e},getZero:function(){SYSCALLS.get()}};function _fd_close(e){try{return 0}catch(e){return"undefined"!=typeof FS&&e instanceof FS.ErrnoError||abort(e),e.errno}}function ___wasi_fd_close(){return _fd_close.apply(null,arguments)}function _fd_seek(e,n,t,r,a){try{return 0}catch(e){return"undefined"!=typeof FS&&e instanceof FS.ErrnoError||abort(e),e.errno}}function ___wasi_fd_seek(){return _fd_seek.apply(null,arguments)}function flush_NO_FILESYSTEM(){var e=Module._fflush;e&&e(0);var n=SYSCALLS.buffers;n[1].length&&SYSCALLS.printChar(1,10),n[2].length&&SYSCALLS.printChar(2,10)}function _fd_write(e,n,t,r){try{for(var a=0,l=0;l<t;l++){for(var i=HEAP32[n+8*l>>2],o=HEAP32[n+(8*l+4)>>2],u=0;u<o;u++)SYSCALLS.printChar(e,HEAPU8[i+u]);a+=o}return HEAP32[r>>2]=a,0}catch(e){return"undefined"!=typeof FS&&e instanceof FS.ErrnoError||abort(e),e.errno}}function ___wasi_fd_write(){return _fd_write.apply(null,arguments)}function _abort(){abort()}function _emscripten_get_heap_size(){return HEAP8.length}function abortOnCannotGrowMemory(e){abort("OOM")}function _emscripten_resize_heap(e){abortOnCannotGrowMemory(e)}function _llvm_exp2_f32(e){return Math.pow(2,e)}function _llvm_exp2_f64(e){return _llvm_exp2_f32(e)}function _llvm_log10_f32(e){return Math.log(e)/Math.LN10}function _llvm_log10_f64(e){return _llvm_log10_f32(e)}function _llvm_stackrestore(e){var n=_llvm_stacksave,t=n.LLVM_SAVEDSTACKS[e];n.LLVM_SAVEDSTACKS.splice(e,1),stackRestore(t)}function _llvm_stacksave(){var e=_llvm_stacksave;return e.LLVM_SAVEDSTACKS||(e.LLVM_SAVEDSTACKS=[]),e.LLVM_SAVEDSTACKS.push(stackSave()),e.LLVM_SAVEDSTACKS.length-1}function _emscripten_memcpy_big(e,n,t){HEAPU8.set(HEAPU8.subarray(n,n+t),e)}var ASSERTIONS=!1;function intArrayFromString(e,n,t){var r=t>0?t:lengthBytesUTF8(e)+1,a=new Array(r),l=stringToUTF8Array(e,a,0,a.length);return n&&(a.length=l),a}function intArrayToString(e){for(var n=[],t=0;t<e.length;t++){var r=e[t];r>255&&(ASSERTIONS&&assert(!1,"Character code "+r+" ("+String.fromCharCode(r)+")  at offset "+t+" not in 0x00-0xFF."),r&=255),n.push(String.fromCharCode(r))}return n.join("")}var asmGlobalArg={},asmLibraryArg={___wasi_fd_close,___wasi_fd_seek,___wasi_fd_write,__memory_base:1024,__table_base:0,_abort,_emscripten_get_heap_size,_emscripten_memcpy_big,_emscripten_resize_heap,_fd_close,_fd_seek,_fd_write,_llvm_exp2_f32,_llvm_exp2_f64,_llvm_log10_f32,_llvm_log10_f64,_llvm_stackrestore,_llvm_stacksave,abort,abortOnCannotGrowMemory,demangle,demangleAll,flush_NO_FILESYSTEM,getTempRet0,jsStackTrace,memory:wasmMemory,setTempRet0,stackTrace,table:wasmTable,tempDoublePtr},asm=Module.asm(asmGlobalArg,asmLibraryArg,buffer);Module.asm=asm;var _emscripten_get_sbrk_ptr=Module._emscripten_get_sbrk_ptr=function(){return Module.asm._emscripten_get_sbrk_ptr.apply(null,arguments)},_free=Module._free=function(){return Module.asm._free.apply(null,arguments)},_malloc=Module._malloc=function(){return Module.asm._malloc.apply(null,arguments)},_memcpy=Module._memcpy=function(){return Module.asm._memcpy.apply(null,arguments)},_memmove=Module._memmove=function(){return Module.asm._memmove.apply(null,arguments)},_memset=Module._memset=function(){return Module.asm._memset.apply(null,arguments)},_opus_encode_float=Module._opus_encode_float=function(){return Module.asm._opus_encode_float.apply(null,arguments)},_opus_encoder_create=Module._opus_encoder_create=function(){return Module.asm._opus_encoder_create.apply(null,arguments)},_opus_encoder_ctl=Module._opus_encoder_ctl=function(){return Module.asm._opus_encoder_ctl.apply(null,arguments)},_opus_encoder_destroy=Module._opus_encoder_destroy=function(){return Module.asm._opus_encoder_destroy.apply(null,arguments)},_rintf=Module._rintf=function(){return Module.asm._rintf.apply(null,arguments)},_speex_resampler_destroy=Module._speex_resampler_destroy=function(){return Module.asm._speex_resampler_destroy.apply(null,arguments)},_speex_resampler_init=Module._speex_resampler_init=function(){return Module.asm._speex_resampler_init.apply(null,arguments)},_speex_resampler_process_interleaved_float=Module._speex_resampler_process_interleaved_float=function(){return Module.asm._speex_resampler_process_interleaved_float.apply(null,arguments)},establishStackSpace=Module.establishStackSpace=function(){return Module.asm.establishStackSpace.apply(null,arguments)},stackAlloc=Module.stackAlloc=function(){return Module.asm.stackAlloc.apply(null,arguments)},stackRestore=Module.stackRestore=function(){return Module.asm.stackRestore.apply(null,arguments)},stackSave=Module.stackSave=function(){return Module.asm.stackSave.apply(null,arguments)},dynCall_ii=Module.dynCall_ii=function(){return Module.asm.dynCall_ii.apply(null,arguments)},dynCall_iiii=Module.dynCall_iiii=function(){return Module.asm.dynCall_iiii.apply(null,arguments)},dynCall_iiiiiii=Module.dynCall_iiiiiii=function(){return Module.asm.dynCall_iiiiiii.apply(null,arguments)},dynCall_jiji=Module.dynCall_jiji=function(){return Module.asm.dynCall_jiji.apply(null,arguments)},dynCall_viiiiiii=Module.dynCall_viiiiiii=function(){return Module.asm.dynCall_viiiiiii.apply(null,arguments)},calledRun;function ExitStatus(e){this.name="ExitStatus",this.message="Program terminated with exit("+e+")",this.status=e}Module.asm=asm;var calledMain=!1;function run(e){function n(){calledRun||(calledRun=!0,ABORT||(initRuntime(),preMain(),Module.onRuntimeInitialized&&Module.onRuntimeInitialized(),postRun()))}e=e||arguments_,runDependencies>0||(preRun(),runDependencies>0||(Module.setStatus?(Module.setStatus("Running..."),setTimeout((function(){setTimeout((function(){Module.setStatus("")}),1),n()}),1)):n()))}function exit(e,n){n&&noExitRuntime&&0===e||(noExitRuntime||(ABORT=!0,EXITSTATUS=e,exitRuntime(),Module.onExit&&Module.onExit(e)),quit_(e,new ExitStatus(e)))}if(dependenciesFulfilled=function e(){calledRun||run(),calledRun||(dependenciesFulfilled=e)},Module.run=run,Module.preInit)for("function"==typeof Module.preInit&&(Module.preInit=[Module.preInit]);Module.preInit.length>0;)Module.preInit.pop()();noExitRuntime=!0,run();